<form theme="dark">
  <label>Splunk - IDX - 02 - Indexes - Dashboard - v1</label>
  <search id="splunk_idx_02_indexes_dashboard_v1">
    <query>
| inputlookup splunk_sh_rest_data_indexes_csv_lookup where currentDBSizeMB &gt; 1
| fields Splunk_Instance Splunk_Roles Index currentDBSizeMB "Index Size (GB)" "Index Size (TB)" Retention_Days Retention_Month Retention_Years "Earliest Event" "Latest Event" Time_Diff_Years Time_Diff_Month Time_Diff_Days Days_Diff_From_Retention "Average Event Count" app coldPath coldPath.maxDataSizeMB coldToFrozenDir coldToFrozenScript datamodel_summary_size datatype homePath homePath.maxDataSizeMB isInternal maxDataSize maxGlobalDataSizeMB maxGlobalRawDataSizeMB maxHotBuckets maxHotIdleSecs maxWarmDBCount minHotIdleSecsBeforeForceRoll repFactor rotatePeriodInSecs thawedPath throttleCheckPeriod total_bucket_count total_capacity total_event_count total_raw_size total_size tstatsHomePath | makemv delim="|" Splunk_Roles
| stats values(Splunk_Instance) AS Splunk_Instance values(Splunk_Roles) AS Splunk_Roles last(*) as * by Index

| search Splunk_Instance="*$Splunk_Instance$*" Splunk_Roles="*$Splunk_Roles$*" Index="*$Index$*" app="$app$"
      </query>
  </search>
  <fieldset submitButton="false" autoRun="true">
    <input type="dropdown" token="Splunk_Roles" searchWhenChanged="true">
      <label>Splunk Roles</label>
      <fieldForLabel>Splunk_Roles</fieldForLabel>
      <fieldForValue>Splunk_Roles</fieldForValue>
      <search base="splunk_idx_02_indexes_dashboard_v1">
        <query>| stats count by Splunk_Roles</query>
      </search>
      <choice value="*">All</choice>
      <default>*</default>
      <initialValue>*</initialValue>
    </input>
    <input type="dropdown" token="Splunk_Instance" searchWhenChanged="true">
      <label>Splunk Instance</label>
      <fieldForLabel>Splunk_Instance</fieldForLabel>
      <fieldForValue>Splunk_Instance</fieldForValue>
      <search base="splunk_idx_02_indexes_dashboard_v1">
        <query>| stats count by Splunk_Instance</query>
      </search>
      <choice value="*">All</choice>
      <default>*</default>
      <initialValue>*</initialValue>
    </input>
    <input type="dropdown" token="app" searchWhenChanged="true">
      <label>App</label>
      <fieldForLabel>app</fieldForLabel>
      <fieldForValue>app</fieldForValue>
      <search base="splunk_idx_02_indexes_dashboard_v1">
        <query>| stats count by app</query>
      </search>
      <choice value="*">All</choice>
      <default>*</default>
      <initialValue>*</initialValue>
    </input>
    <input type="dropdown" token="Index" searchWhenChanged="true">
      <label>Index Name</label>
      <fieldForLabel>Index</fieldForLabel>
      <fieldForValue>Index</fieldForValue>
      <search base="splunk_idx_02_indexes_dashboard_v1">
        <query>| stats count by Index</query>
      </search>
      <choice value="*">All</choice>
      <default>*</default>
      <initialValue>*</initialValue>
    </input>
    <input type="text" token="Splunk_Roles" searchWhenChanged="true">
      <label>Splunk Roles (Contains)</label>
      <default>*</default>
      <initialValue>*</initialValue>
    </input>
    <input type="text" token="Splunk_Instance" searchWhenChanged="true">
      <label>Splunk Instance (Contains)</label>
      <default>*</default>
      <initialValue>*</initialValue>
    </input>
    <input type="text" token="Index" searchWhenChanged="true">
      <label>Indexes Name (Contains)</label>
      <default>*</default>
      <initialValue>*</initialValue>
    </input>
  </fieldset>
  <row>
    <panel>
      <title>Total Number of Indexes</title>
      <single>
        <search base="splunk_idx_02_indexes_dashboard_v1">
          <query>| stats count</query>
        </search>
        <option name="colorMode">block</option>
        <option name="drilldown">none</option>
        <option name="rangeColors">["0x006d9c","0x006d9c"]</option>
        <option name="rangeValues">[0]</option>
        <option name="refresh.display">progressbar</option>
        <option name="useColors">1</option>
      </single>
    </panel>
  </row>
  <row>
    <panel>
      <title>Indexes</title>
      <table>
        <search base="splunk_idx_02_indexes_dashboard_v1">
          <query>| table Index app datatype currentDBSizeMB "Index Size (GB)" "Index Size (TB)" "Average Event Count" datamodel_summary_size Retention_Days Retention_Month Retention_Years "Earliest Event" "Latest Event" Time_Diff_Years Time_Diff_Month Time_Diff_Days Days_Diff_From_Retention 
| sort 0 - currentDBSizeMB 
| rename currentDBSizeMB AS "Index Size (MB)" app AS App datatype AS "Data Type" datamodel_summary_size AS "Data Model Summary Size"</query>
        </search>
        <option name="count">20</option>
        <option name="dataOverlayMode">none</option>
        <option name="drilldown">none</option>
        <option name="percentagesRow">false</option>
        <option name="refresh.display">progressbar</option>
        <option name="rowNumbers">true</option>
        <option name="totalsRow">false</option>
        <option name="wrap">false</option>
        <format type="color" field="Index">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="Splunk Roles">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="number" field="Index Size (GB)">
          <option name="unit">GB</option>
        </format>
        <format type="number" field="Index Size (TB)">
          <option name="precision">3</option>
          <option name="unit">TB</option>
        </format>
        <format type="number" field="Retention_Days">
          <option name="unit">Days</option>
        </format>
        <format type="number" field="Retention_Month">
          <option name="unit">Months</option>
        </format>
        <format type="number" field="Retention_Years">
          <option name="precision">3</option>
          <option name="unit">Years</option>
        </format>
        <format type="number" field="Time_Diff_Years"></format>
        <format type="number" field="Time_Diff_Month"></format>
        <format type="number" field="Time_Diff_Days"></format>
        <format type="number" field="Days_Diff_From_Retention"></format>
        <format type="number" field="Total Event Count">
          <option name="precision">0</option>
        </format>
        <format type="color" field="Index Size (GB)">
          <colorPalette type="minMidMax" maxColor="#DC4E41" midColor="#F8BE34" minColor="#53A051"></colorPalette>
          <scale type="minMidMax" midType="percentile" midValue="50"></scale>
        </format>
        <format type="color" field="Index Size (TB)">
          <colorPalette type="minMidMax" maxColor="#DC4E41" midColor="#F8BE34" minColor="#53A051"></colorPalette>
          <scale type="minMidMax" midType="percent" midValue="50"></scale>
        </format>
        <format type="color" field="Retention_Days">
          <colorPalette type="minMidMax" maxColor="#DC4E41" midColor="#F8BE34" minColor="#53A051"></colorPalette>
          <scale type="minMidMax" midType="percentile" midValue="50"></scale>
        </format>
        <format type="color" field="Retention_Month">
          <colorPalette type="minMidMax" maxColor="#DC4E41" midColor="#F8BE34" minColor="#53A051"></colorPalette>
          <scale type="minMidMax" midType="percentile" midValue="50"></scale>
        </format>
        <format type="color" field="Retention_Years">
          <colorPalette type="minMidMax" maxColor="#DC4E41" midColor="#F8BE34" minColor="#53A051"></colorPalette>
          <scale type="minMidMax" midType="percent" midValue="50"></scale>
        </format>
        <format type="color" field="Earliest Event">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="Latest Event">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="Total Event Count">
          <colorPalette type="minMidMax" maxColor="#5A4575" midColor="#006D9C" minColor="#53A051"></colorPalette>
          <scale type="minMidMax" midType="percentile" midValue="50"></scale>
        </format>
        <format type="color" field="Average Event Count">
          <colorPalette type="minMidMax" maxColor="#DC4E41" midColor="#F8BE34" minColor="#53A051"></colorPalette>
          <scale type="minMidMax" midType="percentile" midValue="50"></scale>
        </format>
        <format type="number" field="Average Event Count">
          <option name="precision">0</option>
        </format>
        <format type="number" field="Index Size (MB)">
          <option name="precision">0</option>
          <option name="unit">MB</option>
        </format>
        <format type="color" field="Index Size (MB)">
          <colorPalette type="minMidMax" maxColor="#DC4E41" midColor="#F8BE34" minColor="#53A051"></colorPalette>
          <scale type="minMidMax" midType="percent" midValue="50"></scale>
        </format>
        <format type="color" field="App">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="Data Type">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="number" field="Data Model Summary Size">
          <option name="unit">MB</option>
        </format>
        <format type="color" field="Data Model Summary Size">
          <colorPalette type="minMidMax" maxColor="#DC4E41" midColor="#F8BE34" minColor="#53A051"></colorPalette>
          <scale type="minMidMax" midType="percent" midValue="50"></scale>
        </format>
      </table>
    </panel>
  </row>
</form>
